---
import { getCollection } from "astro:content";
import Tag from "./Tag.astro";

const posts = await getCollection("posts");
const uniqueTags = [...new Set(posts.map((post) => post.data.tag).flat())];

const url = decodeURI(Astro.url.pathname);
---

<div class="bg-panel rounded shadow-sm p-5">
  <p class="mb-4 text-lg">Tags 🏷️</p>
  <div class="flex gap-2 flex-wrap">
    {uniqueTags.map((tag) => <Tag tag={tag} url={url} path="posts/tags" />)}
  </div>
</div>
